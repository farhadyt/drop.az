{% extends "base.html" %}
{% load static %}

{% block title %}drop.az - Az…ôrbaycanda …ôn yax≈üƒ± alƒ±≈ü-veri≈ü platformasƒ±{% endblock %}

{% block meta_description %}drop.az - keyfiyy…ôtli m…ôhsullar, s√ºr…ôtli √ßatdƒ±rƒ±lma, 24/7 d…ôst…ôk v…ô t…ôhl√ºk…ôsiz √∂d…ôni≈ü sistemi il…ô Az…ôrbaycanda …ôn etibarlƒ± alƒ±≈ü-veri≈ü t…ôcr√ºb…ôsi.{% endblock %}

{% block meta_keywords %}drop.az, alƒ±≈ü-veri≈ü, Az…ôrbaycan, onlayn maƒüaza, elektronika, telefon, komp√ºter, √ßatdƒ±rƒ±lma, endirim, keyfiyy…ôt, √∂d…ôni≈ü{% endblock %}

{% block og_title %}drop.az - Az…ôrbaycanda …ôn yax≈üƒ± alƒ±≈ü-veri≈ü platformasƒ±{% endblock %}
{% block og_description %}Keyfiyy…ôtli m…ôhsullar, s√ºr…ôtli √ßatdƒ±rƒ±lma v…ô uyƒüun qiym…ôtl…ôrl…ô alƒ±≈ü-veri≈ü edin. 1000+ m…ôhsul, 50K+ m…ômnun m√º≈üt…ôri.{% endblock %}

{% block extra_head %}
<!-- Home page specific meta -->
<meta name="page-type" content="homepage">
<meta name="content-language" content="az">
<link rel="preload" as="image" href="{% static 'images/hero-bg.webp' %}">

<!-- Hero Categories Styles -->
<link rel="stylesheet" href="{% static 'css/hero-categories.css' %}">

<!-- Additional structured data for homepage -->
<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "drop.az",
    "url": "{{ request.build_absolute_uri }}",
    "potentialAction": {
        "@type": "SearchAction",
        "target": {
            "@type": "EntryPoint",
            "urlTemplate": "{{ request.build_absolute_uri }}search/?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
    }
}
</script>
{% endblock %}

{% block content %}
    <!-- Enhanced Hero Section -->
    <section class="hero-section" aria-labelledby="hero-title">
        <div class="hero-content">
            <!-- Enhanced Logo with 3D Effect -->
            <div class="hero-logo-container">
                <!-- <h1 id="hero-title" class="hero-title">
                    <span class="logo-letter">d</span>
                    <span class="logo-letter">r</span>
                    <span class="logo-letter">o</span>
                    <span class="logo-letter">p</span>
                    <span class="logo-dot">.</span>
                    <span class="logo-letter">a</span>
                    <span class="logo-letter">z</span>
                </h1> -->
                <div class="logo-glow" aria-hidden="true"></div>
            </div>

            <!-- Enhanced Subtitle -->
            <p class="hero-subtitle">Sizin …ôn yax≈üƒ± alƒ±≈ü-veri≈ü t…ôcr√ºb…ôniz</p>
            
            <!-- Categories Section Title -->
            <div class="hero-categories-header">
                <h2 class="categories-main-title">
                    <span class="title-highlight">B√ºt√ºn</span> <span class="title-highlight">Kateqoriyalar</span>
                </h2>
                <!-- <p class="categories-subtitle">Minl…ôrl…ô m…ôhsul arasƒ±ndan se√ßim edin</p> -->
            </div>
            
            <!-- Premium Category Grid -->
            <div class="hero-categories-grid">
                {% for category in featured_categories %}
                <a href="{% url 'catalog:category_detail' category.slug %}" 
                   class="category-card premium-card"
                   data-category-id="{{ category.id }}"
                   data-aos="fade-up"
                   data-aos-delay="{{ forloop.counter0|add:1 }}00">
                    
                    <!-- Category Background Pattern -->
                    <div class="category-pattern"></div>
                    
                    <!-- Category Icon with Animation -->
                    <div class="category-icon-wrapper">
                        {% if category.icon_image %}
                            <img src="{{ category.icon_image.url }}" alt="{{ category.name }}" />
                        {% elif category.icon_class %}
                            <i class="{{ category.icon_class }}" style="color: {{ category.icon_color|default:'#4facfe' }}"></i>
                        {% else %}
                            <i class="fas fa-tags" style="color: {{ category.icon_color|default:'#4facfe' }}"></i>
                        {% endif %}
                        <div class="icon-pulse"></div>
                    </div>
                    
                    <!-- Category Content -->
                    <div class="category-content">
                        <h3 class="category-title">{{ category.name }}</h3>
                        <!-- <span class="category-count">{{ category.product_count }} m…ôhsul</span> -->
                    </div>
                    
                    <!-- Hover Effects -->
                    <div class="category-hover-content">
                        <p class="hover-text">K…ô≈üf et</p>
                        <svg class="hover-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                        </svg>
                    </div>
                    
                    <!-- Special Badge for Top Categories -->
                    {% if forloop.counter <= 3 %}
                    <div class="category-badge">
                        {% if forloop.counter == 1 %}
                            <span class="badge-hot">üî• ∆èn Populyar</span>
                        {% elif forloop.counter == 2 %}
                            <span class="badge-new">‚ú® Yeni</span>
                        {% else %}
                            <span class="badge-trending">üìà Trend</span>
                        {% endif %}
                    </div>
                    {% endif %}
                </a>
                {% empty %}
                <div class="no-categories-message">
                    <p>Kateqoriyalar y√ºkl…ônir...</p>
                </div>
                {% endfor %}
            </div>
            
            <!-- Quick Stats Bar -->
            <div class="hero-quick-stats">
                <div class="stat-item-mini">
                    <span class="stat-icon">üöö</span>
                    <span class="stat-text">Pulsuz √áatdƒ±rƒ±lma</span>
                </div>
                <div class="stat-item-mini">
                    <span class="stat-icon">üîí</span>
                    <span class="stat-text">T…ôhl√ºk…ôsiz √ñd…ôni≈ü</span>
                </div>
                <div class="stat-item-mini">
                    <span class="stat-icon">üéØ</span>
                    <span class="stat-text">24/7 D…ôst…ôk</span>
                </div>
                <div class="stat-item-mini">
                    <span class="stat-icon">‚ö°</span>
                    <span class="stat-text">Express √áatdƒ±rƒ±lma</span>
                </div>
            </div>
            
            <!-- Enhanced Call to Actions -->
            <div class="hero-buttons">
                <a href="#products" 
                   class="btn btn-primary btn-hero"
                   aria-describedby="hero-cta-desc">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    ƒ∞ndi Alƒ±≈ü-veri≈ü Et
                    <span class="btn-highlight">1000+ m…ôhsul</span>
                </a>
                
                <a href="#features" 
                   class="btn btn-secondary btn-hero"
                   aria-describedby="hero-features-desc">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                    </svg>
                    Xidm…ôtl…ôrimiz
                    <span class="btn-highlight">Keyfiyy…ôt z…ôman…ôti</span>
                </a>
                
                <button class="btn btn-outline btn-hero search-trigger" 
                        onclick="document.querySelector('.search-toggle').click()"
                        aria-describedby="hero-search-desc">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m21 21-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    M…ôhsul Axtar
                    <span class="btn-highlight">iPhone, Samsung...</span>
                </button>
            </div>
        </div>
        
        <!-- Hero Side Content: Left -->
        <aside class="hero-side hero-side-left" aria-label="Niy…ô bizi se√ßm…ôlisiniz?">
            <div class="side-card side-features">
                <h3 class="side-title">
                    <svg class="side-title-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="20 6 9 17 4 12"></polyline>
                    </svg>
                    Niy…ô bizi se√ßm…ôlisiniz?
                </h3>
                <ul class="features-rotator" role="list">
                    <li class="feature-item active" role="listitem">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="1" y="3" width="15" height="13"></rect>
                                <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon>
                                <circle cx="5.5" cy="18.5" r="2.5"></circle>
                                <circle cx="18.5" cy="18.5" r="2.5"></circle>
                            </svg>
                        </div>
                        <div class="feature-texts">
                            <p class="feature-text">Pulsuz √áatdƒ±rƒ±lma</p>
                            <p class="feature-subtext">B√ºt√ºn sifari≈ül…ôr √º√ß√ºn</p>
                        </div>
                    </li>
                    <li class="feature-item" role="listitem">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                            </svg>
                        </div>
                        <div class="feature-texts">
                            <p class="feature-text">S√ºr…ôtli Xidm…ôt</p>
                            <p class="feature-subtext">Anƒ±nda sifari≈ül…ôrinizi hazƒ±rlayƒ±rƒ±q</p>
                        </div>
                    </li>
                    <li class="feature-item" role="listitem">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                        </div>
                        <div class="feature-texts">
                            <p class="feature-text">24/7 D…ôst…ôk</p>
                            <p class="feature-subtext">H…ômi≈ü…ô yanƒ±nƒ±zdayƒ±q</p>
                        </div>
                    </li>
                    <li class="feature-item" role="listitem">
                        <div class="feature-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 12 20 22 4 22 4 12"></polyline>
                                <rect x="2" y="7" width="20" height="5"></rect>
                                <line x1="12" y1="22" x2="12" y2="7"></line>
                                <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"></path>
                                <path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"></path>
                            </svg>
                        </div>
                        <div class="feature-texts">
                            <p class="feature-text">Ekskl√ºziv T…ôklifl…ôr</p>
                            <p class="feature-subtext">H…ôr g√ºn yeni kampaniyalar</p>
                        </div>
                    </li>
                </ul>
                <div class="side-badges">
                    <span class="side-badge">
                        <svg class="badge-icon" width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"/>
                        </svg>
                        G√ºnl√ºk endiriml…ôr
                    </span>
                    <span class="side-badge">
                        <svg class="badge-icon" width="14" height="14" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        30 g√ºn qaytarma
                    </span>
                </div>
            </div>
        </aside>

        <!-- Hero Side Content: Right -->
        <aside class="hero-side hero-side-right" aria-label="Sosial s√ºbut v…ô statistika">
            <div class="side-card side-stats">
                <h3 class="side-title">
                    <svg class="side-title-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
                    </svg>
                    Biz…ô g√ºv…ônin
                </h3>
                <ul class="side-stats-list" role="list">
                    <li class="stat-item" role="listitem">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                        </div>
                        <div class="stat-texts">
                            <p class="stat-number">5000+</p>
                            <p class="stat-label">M∆èMNUN M√ú≈ûT∆èRƒ∞</p>
                        </div>
                    </li>
                    <li class="stat-item" role="listitem">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="16.5" y1="9.4" x2="7.5" y2="4.21"></line>
                                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path>
                                <polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline>
                                <line x1="12" y1="22.08" x2="12" y2="12"></line>
                            </svg>
                        </div>
                        <div class="stat-texts">
                            <p class="stat-number">10 M +</p>
                            <p class="stat-label">AKTƒ∞V M∆èHSUL</p>
                        </div>
                    </li>
                    <li class="stat-item" role="listitem">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                            </svg>
                        </div>
                        <div class="stat-texts">
                            <p class="stat-number">4.8/5</p>
                            <p class="stat-label">M√ú≈ûT∆èRƒ∞ REYTƒ∞NQƒ∞</p>
                        </div>
                    </li>
                    <li class="stat-item" role="listitem">
                        <div class="stat-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="1" y="3" width="15" height="13"></rect>
                                <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon>
                                <circle cx="5.5" cy="18.5" r="2.5"></circle>
                                <circle cx="18.5" cy="18.5" r="2.5"></circle>
                            </svg>
                        </div>
                        <div class="stat-texts">
                            <p class="stat-number">24 saat</p>
                            <p class="stat-label">√áATDIRILMA</p>
                        </div>
                    </li>
                </ul>
            </div>

            
        </aside>
    </section>

    <!-- Quick Stats Section -->
    <section class="stats-section" aria-labelledby="stats-title">
        <div class="sr-only">
            <h2 id="stats-title">Platformamƒ±zƒ±n statistikalarƒ±</h2>
        </div>
        
        <div class="stats-container" role="list" aria-label="∆èsas statistikalar">
            <div class="stat-item fade-in" role="listitem">
                <div class="stat-number" data-target="1000">1000+</div>
                <div class="stat-label">M…ôhsul</div>
            </div>
            <div class="stat-item fade-in" role="listitem">
                <div class="stat-number" data-target="50000">50K+</div>
                <div class="stat-label">M√º≈üt…ôri</div>
            </div>
            <div class="stat-item fade-in" role="listitem">
                <div class="stat-number" data-target="99">99%</div>
                <div class="stat-label">M…ômnuniyy…ôt</div>
            </div>
            <div class="stat-item fade-in" role="listitem">
                <div class="stat-number">24/7</div>
                <div class="stat-label">D…ôst…ôk</div>
            </div>
        </div>
    </section>

    <!-- Featured Products Section -->
    <section id="products" class="products-section" aria-labelledby="products-title">
        <div class="section-header">
            <h2 id="products-title" class="section-title">M…ôhsullarƒ±mƒ±z</h2>
            <p class="section-subtitle">∆èn keyfiyy…ôtli v…ô uyƒüun qiym…ôtli m…ôhsullar sizl…ôri g√∂zl…ôyir</p>
        </div>
        
        {% if products %}
            <!-- Product Filter Tabs -->
            <div class="product-filters" role="tablist" aria-label="M…ôhsul filterl…ôri">
                <button class="filter-btn active" 
                        data-filter="all"
                        role="tab"
                        aria-selected="true"
                        aria-controls="product-grid"
                        id="filter-all">
                    <span>Hamƒ±sƒ±</span>
                </button>
                <button class="filter-btn" 
                        data-filter="new"
                        role="tab"
                        aria-selected="false"
                        aria-controls="product-grid"
                        id="filter-new">
                    <span>Yenil…ôr</span>
                </button>
                <button class="filter-btn" 
                        data-filter="popular"
                        role="tab"
                        aria-selected="false"
                        aria-controls="product-grid"
                        id="filter-popular">
                    <span>Populyar</span>
                </button>
                <button class="filter-btn" 
                        data-filter="sale"
                        role="tab"
                        aria-selected="false"
                        aria-controls="product-grid"
                        id="filter-sale">
                    <span>Endirimd…ô</span>
                </button>
            </div>

            <div class="product-list" 
                 id="product-grid"
                 role="tabpanel"
                 aria-labelledby="filter-all"
                 aria-live="polite">
                {% for product in products %}
                    <article class="product-card fade-in" 
                             data-product-id="{{ product.id }}" 
                             data-category="{% cycle 'new' 'popular' 'sale' 'all' as category_cycle %}"
                             itemscope 
                             itemtype="https://schema.org/Product">
                        
                        <div class="product-image-container">
                            {% if product.image %}
                                <img src="{{ product.image.url }}" 
                                     alt="{{ product.name }}" 
                                     class="product-image" 
                                     loading="lazy"
                                     width="300"
                                     height="300"
                                     itemprop="image">
                            {% else %}
                                <div class="product-no-image" aria-label="M…ôhsul ≈ü…ôkli yoxdur">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="60" height="60" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <span>≈û…ôkil yoxdur</span>
                                </div>
                            {% endif %}
                            
                            <!-- Product Actions Overlay -->
                            <div class="product-actions" aria-label="M…ôhsul …ôm…ôliyyatlarƒ±">
                                <button class="action-btn favorite-btn" 
                                        title="Sevimlil…ôr…ô …ôlav…ô et" 
                                        aria-label="Sevimlil…ôr…ô …ôlav…ô et: {{ product.name }}"
                                        data-product-id="{{ product.id }}">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                    </svg>
                                </button>
                                <button class="action-btn quick-view-btn" 
                                        title="Tez baxƒ±≈ü" 
                                        aria-label="Tez baxƒ±≈ü: {{ product.name }}"
                                        data-product-id="{{ product.id }}">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                    </svg>
                                </button>
                                <button class="action-btn share-btn" 
                                        title="Payla≈ü" 
                                        aria-label="Payla≈ü: {{ product.name }}"
                                        data-product-id="{{ product.id }}">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"></path>
                                    </svg>
                                </button>
                            </div>
                            
                            <!-- Product Badges -->
                            {% if category_cycle == 'new' %}
                                <div class="product-badge new-badge" aria-label="Yeni m…ôhsul">Yeni</div>
                            {% elif category_cycle == 'popular' %}
                                <div class="product-badge popular-badge" aria-label="Populyar m…ôhsul">Hit</div>
                            {% elif category_cycle == 'sale' %}
                                <div class="product-badge sale-badge" aria-label="Endirimli m…ôhsul">-20%</div>
                            {% endif %}
                            
                            <!-- Stock Badge -->
                            {% if product.stock <= 5 and product.stock > 0 %}
                                <div class="stock-badge low-stock" aria-label="Az stok qalƒ±b">Az qalƒ±b!</div>
                            {% elif product.stock == 0 %}
                                <div class="stock-badge out-of-stock" aria-label="Stok yoxdur">Stok yoxdur</div>
                            {% endif %}
                        </div>
                        
                        <div class="product-info">
                            <h3 class="product-name" itemprop="name">
                                <a href="/product/{{ product.slug }}/" aria-label="M…ôhsul s…ôhif…ôsi: {{ product.name }}">
                                    {{ product.name }}
                                </a>
                            </h3>
                            
                            {% if product.description %}
                                <p class="product-description" itemprop="description">{{ product.description|truncatewords:12 }}</p>
                            {% endif %}
                            
                            <div class="product-rating" aria-label="M…ôhsul reytinqi">
                                <div class="stars" role="img" aria-label="5 ulduzdan 4.2 ulduz">
                                    <span class="star filled" aria-hidden="true">‚òÖ</span>
                                    <span class="star filled" aria-hidden="true">‚òÖ</span>
                                    <span class="star filled" aria-hidden="true">‚òÖ</span>
                                    <span class="star filled" aria-hidden="true">‚òÖ</span>
                                    <span class="star" aria-hidden="true">‚òÖ</span>
                                </div>
                                <span class="rating-text">4.2 ({{ product.id|add:15 }} r…ôy)</span>
                            </div>
                            
                            <div class="product-footer">
                                <div class="product-price" itemprop="offers" itemscope itemtype="https://schema.org/Offer">
                                    {% if category_cycle == 'sale' %}
                                        <span class="old-price" aria-label="K√∂hn…ô qiym…ôt">{{ product.price|add:15 }} AZN</span>
                                        <span class="current-price" itemprop="price" content="{{ product.price }}">{{ product.price }} AZN</span>
                                        <meta itemprop="priceCurrency" content="AZN">
                                    {% else %}
                                        <span class="current-price" itemprop="price" content="{{ product.price }}">{{ product.price }} AZN</span>
                                        <meta itemprop="priceCurrency" content="AZN">
                                    {% endif %}
                                    <meta itemprop="availability" content="{% if product.stock > 0 %}https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}">
                                </div>
                                
                                {% if product.stock > 0 %}
                                    <button class="btn btn-primary add-to-cart-btn" 
                                            data-product-id="{{ product.id }}"
                                            aria-label="S…ôb…ôt…ô …ôlav…ô et: {{ product.name }}">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m1.6 8L6 5H3m4 8v6a2 2 0 002 2h8a2 2 0 002-2v-6m-10 0V9a2 2 0 012-2h6a2 2 0 012 2v4.01"></path>
                                        </svg>
                                        S…ôb…ôt…ô …ôlav…ô et
                                    </button>
                                {% else %}
                                    <button class="btn btn-disabled" disabled aria-label="Stok yoxdur: {{ product.name }}">
                                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="16" height="16" aria-hidden="true">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                        </svg>
                                        Stok yoxdur
                                    </button>
                                {% endif %}
                            </div>
                        </div>
                    </article>
                {% endfor %}
            </div>
            
            <!-- Load More Section -->
            <div class="load-more-section">
                <button class="btn btn-outline load-more-btn" 
                        aria-label="Daha √ßox m…ôhsul y√ºkl…ô">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                    </svg>
                    Daha √ßox m…ôhsul y√ºkl…ô
                </button>
                <p class="load-more-text">Daha √ßox m…ôhsul √º√ß√ºn axtarƒ±≈ü edin</p>
            </div>
        {% else %}
            <div class="no-products" role="alert">
                <div class="no-products-icon" aria-hidden="true">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="80" height="80">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path>
                    </svg>
                </div>
                <h3>Hazƒ±rda satƒ±≈üda he√ß bir m…ôhsul yoxdur</h3>
                <p>Tezlikl…ô yeni m…ôhsullar …ôlav…ô edil…ôc…ôk. Geri qayƒ±dƒ±n v…ô ya biz…ô abun…ô olun!</p>
                <div class="no-products-actions">
                    <a href="/admin" class="btn btn-primary">Admin panelind…ôn m…ôhsul …ôlav…ô edin</a>
                    <button class="btn btn-secondary" 
                            onclick="document.querySelector('.newsletter-form input').focus()"
                            aria-label="Newsletter abun…ôliyin…ô ke√ß">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 000-15h-2.5m0 0H10m2.5 0V2"></path>
                        </svg>
                        X…ôb…ôr al
                    </button>
                </div>
            </div>
        {% endif %}
    </section>

    <!-- Features Section -->
    <section id="features" class="features-section" aria-labelledby="features-title">
        <div class="section-header">
            <h2 id="features-title" class="section-title">Niy…ô drop.az?</h2>
            <p class="section-subtitle">Bizim √ºst√ºnl√ºkl…ôrimiz v…ô siz…ô t…ôklif etdikl…ôrimiz</p>
        </div>
        
        <div class="features-grid" role="list" aria-label="Platformamƒ±zƒ±n √ºst√ºnl√ºkl…ôri">
            <article class="feature-card fade-in" role="listitem">
                <div class="feature-icon" aria-hidden="true">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <h3>S√ºr…ôtli √áatdƒ±rƒ±lma</h3>
                <p>24 saat …ôrzind…ô Bakƒ± daxilind…ô, 48 saat …ôrzind…ô b√ºt√ºn Az…ôrbaycana √ßatdƒ±rƒ±rƒ±q. Express √ßatdƒ±rƒ±lma xidm…ôti d…ô m√∂vcuddur.</p>
                <div class="feature-benefits" role="list" aria-label="√áatdƒ±rƒ±lma √ºst√ºnl√ºkl…ôri">
                    <span class="benefit-item" role="listitem">‚úì Pulsuz √ßatdƒ±rƒ±lma 50 AZN-d…ôn yuxarƒ±</span>
                    <span class="benefit-item" role="listitem">‚úì Express √ßatdƒ±rƒ±lma 2-3 saat</span>
                </div>
            </article>
            
            <article class="feature-card fade-in" role="listitem">
                <div class="feature-icon" aria-hidden="true">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                </div>
                <h3>Keyfiyy…ôt Z…ôman…ôti</h3>
                <p>Yalnƒ±z orijinal v…ô keyfiyy…ôtli m…ôhsullar. 30 g√ºn z…ôman…ôt v…ô qaytarma imkanƒ±. M√º≈üt…ôri m…ômnuniyy…ôti bizim prioritetimizdir.</p>
                <div class="feature-benefits" role="list" aria-label="Keyfiyy…ôt √ºst√ºnl√ºkl…ôri">
                    <span class="benefit-item" role="listitem">‚úì 30 g√ºn qaytarma z…ôman…ôti</span>
                    <span class="benefit-item" role="listitem">‚úì Orijinal m…ôhsul sertifikatƒ±</span>
                </div>
            </article>
            
            <article class="feature-card fade-in" role="listitem">
                <div class="feature-icon" aria-hidden="true">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                </div>
                <h3>T…ôhl√ºk…ôsiz √ñd…ôni≈ü</h3>
                <p>B√ºt√ºn √∂d…ôni≈ü n√∂vl…ôri 256-bit SSL ≈üifr…ôl…ôm…ô il…ô qorunur. Visa, Mastercard, bank k√∂√ß√ºrm…ôsi v…ô naƒüd √∂d…ôni≈ü q…ôbul edilir.</p>
                <div class="feature-benefits" role="list" aria-label="√ñd…ôni≈ü √ºst√ºnl√ºkl…ôri">
                    <span class="benefit-item" role="listitem">‚úì SSL sertifikatƒ± il…ô qorunur</span>
                    <span class="benefit-item" role="listitem">‚úì Naƒüd √∂d…ôni≈ü imkanƒ±</span>
                </div>
            </article>
            
            <article class="feature-card fade-in" role="listitem">
                <div class="feature-icon" aria-hidden="true">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                </div>
                <h3>24/7 M√º≈üt…ôri D…ôst…ôyi</h3>
                <p>H…ôft…ônin 7 g√ºn√º, g√ºn√ºn 24 saatƒ± m√º≈üt…ôri xidm…ôtl…ôri i≈ül…ôyir. WhatsApp, telefon v…ô email d…ôst…ôyi m√∂vcuddur.</p>
                <div class="feature-benefits" role="list" aria-label="D…ôst…ôk √ºst√ºnl√ºkl…ôri">
                    <span class="benefit-item" role="listitem">‚úì WhatsApp d…ôst…ôyi</span>
                    <span class="benefit-item" role="listitem">‚úì Canlƒ± s√∂hb…ôt imkanƒ±</span>
                </div>
            </article>
        </div>
    </section>

    <!-- Newsletter Section -->
    <section class="newsletter-section" aria-labelledby="newsletter-title">
        <div class="newsletter-container">
            <div class="newsletter-content">
                <div class="newsletter-icon" aria-hidden="true">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="48" height="48">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                </div>
                <h2 id="newsletter-title">Yenilikl…ôr haqqƒ±nda ilk siz √∂yr…ônin!</h2>
                <p>Yeni m…ôhsullar, x√ºsusi endiriml…ôr v…ô ekskl√ºziv t…ôklifl…ôr haqqƒ±nda m…ôlumat almaq √º√ß√ºn abun…ô olun</p>
                
                <form class="newsletter-form" 
                      novalidate 
                      aria-label="Newsletter abun…ôliyi formasƒ±">
                    <div class="newsletter-input-group">
                        <label for="newsletter-email" class="sr-only">E-mail √ºnvanƒ±nƒ±z</label>
                        <input type="email" 
                               id="newsletter-email"
                               class="newsletter-input" 
                               placeholder="E-mail √ºnvanƒ±nƒ±zƒ± daxil edin" 
                               required
                               aria-required="true"
                               aria-describedby="newsletter-benefits"
                               autocomplete="email">
                        <button type="submit" 
                                class="btn btn-primary newsletter-btn"
                                aria-label="Newsletter abun…ôliyini t…ôsdiq et">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                            </svg>
                            Abun…ô ol
                        </button>
                    </div>
                    
                    <div class="newsletter-benefits" 
                         id="newsletter-benefits"
                         role="list" 
                         aria-label="Newsletter √ºst√ºnl√ºkl…ôri">
                        <span class="newsletter-benefit" role="listitem">üìß H…ôft…ôlik x√ºlas…ô</span>
                        <span class="newsletter-benefit" role="listitem">üéÅ Ekskl√ºziv endiriml…ôr</span>
                        <span class="newsletter-benefit" role="listitem">‚ö° ƒ∞lk x…ôb…ôr</span>
                    </div>
                </form>
            </div>
        </div>
    </section>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('üéØ Enhanced Hero Section with Categories loaded');
    
    // Enhanced Logo Letter Animation
    const logoLetters = document.querySelectorAll('.logo-letter, .logo-dot');
    logoLetters.forEach((letter, index) => {
        letter.style.animationDelay = `${index * 0.1}s`;
    });

    // Category Cards Animation on Scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const categoryObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('aos-animate');
                // Add staggered animation
                const delay = entry.target.dataset.aosDelay || 0;
                entry.target.style.transitionDelay = `${delay}ms`;
            }
        });
    }, observerOptions);

    // Observe all category cards
    document.querySelectorAll('.category-card').forEach(card => {
        categoryObserver.observe(card);
        
        // Add interactive hover sound effect (optional)
        card.addEventListener('mouseenter', function() {
            // You can add a subtle sound effect here if desired
            this.style.transform = 'translateY(-8px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
        
        // Touch feedback for mobile
        card.addEventListener('touchstart', function() {
            this.classList.add('touch-active');
        });
        
        card.addEventListener('touchend', function() {
            setTimeout(() => {
                this.classList.remove('touch-active');
            }, 300);
        });
    });

    // Parallax effect for category patterns
    document.addEventListener('mousemove', (e) => {
        const patterns = document.querySelectorAll('.category-pattern');
        const x = e.clientX / window.innerWidth;
        const y = e.clientY / window.innerHeight;
        
        patterns.forEach(pattern => {
            const card = pattern.closest('.category-card');
            if (card && card.matches(':hover')) {
                const moveX = (x - 0.5) * 20;
                const moveY = (y - 0.5) * 20;
                pattern.style.transform = `rotate(45deg) translate(${moveX}px, ${moveY}px)`;
            }
        });
    });

    // Side features rotator (left panel)
    const featureItems = Array.from(document.querySelectorAll('.features-rotator .feature-item'));
    if (featureItems.length > 1) {
        let activeIndex = 0;
        setInterval(() => {
            featureItems[activeIndex].classList.remove('active');
            activeIndex = (activeIndex + 1) % featureItems.length;
            featureItems[activeIndex].classList.add('active');
        }, 3000);
    }

    // Right side stats staggered entrance
    const rightStats = document.querySelectorAll('.side-stats .stat-item');
    if (rightStats.length) {
        rightStats.forEach((item, index) => {
            item.style.animation = `slideInRight ${0.5 + index * 0.1}s ease-out both`;
        });
    }

    // Category click tracking
    document.querySelectorAll('.category-card').forEach(card => {
        card.addEventListener('click', function(e) {
            const categoryId = this.dataset.categoryId;
            const categoryName = this.querySelector('.category-title').textContent;
            console.log(`Category clicked: ${categoryName} (ID: ${categoryId})`);
            
            // Add ripple effect
            const ripple = document.createElement('div');
            ripple.className = 'click-ripple';
            const rect = this.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = (e.clientX - rect.left - size / 2) + 'px';
            ripple.style.top = (e.clientY - rect.top - size / 2) + 'px';
            this.appendChild(ripple);
            
            setTimeout(() => ripple.remove(), 600);
        });
    });

    // Animate stats on scroll
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.querySelectorAll('.stat-item-mini').forEach((stat, index) => {
                    setTimeout(() => {
                        stat.style.animation = 'fadeInUp 0.6s ease forwards';
                    }, index * 100);
                });
                statsObserver.unobserve(entry.target);
            }
        });
    }, { threshold: 0.3 });

    const quickStats = document.querySelector('.hero-quick-stats');
    if (quickStats) {
        statsObserver.observe(quickStats);
    }

    // Dynamic category count animation
    const animateValue = (element, start, end, duration) => {
        const range = end - start;
        const increment = range / (duration / 16);
        let current = start;
        
        const timer = setInterval(() => {
            current += increment;
            if ((increment > 0 && current >= end) || (increment < 0 && current <= end)) {
                element.textContent = end + ' m…ôhsul';
                clearInterval(timer);
            } else {
                element.textContent = Math.floor(current) + ' m…ôhsul';
            }
        }, 16);
    };

    // Animate category counts when visible
    const countObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const count = entry.target;
                const finalValue = parseInt(count.textContent);
                if (!isNaN(finalValue)) {
                    animateValue(count, 0, finalValue, 1000);
                }
                countObserver.unobserve(count);
            }
        });
    }, { threshold: 0.5 });

    document.querySelectorAll('.category-count').forEach(count => {
        countObserver.observe(count);
    });

    // Enhanced Product Filter System
    const filterBtns = document.querySelectorAll('.filter-btn');
    const productCards = document.querySelectorAll('.product-card');
    const productGrid = document.getElementById('product-grid');

    filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            // Update ARIA states
            filterBtns.forEach(b => {
                b.classList.remove('active');
                b.setAttribute('aria-selected', 'false');
            });
            
            this.classList.add('active');
            this.setAttribute('aria-selected', 'true');
            
            // Update grid label
            productGrid.setAttribute('aria-labelledby', this.id);

            const filter = this.getAttribute('data-filter');
            let visibleCount = 0;
            
            productCards.forEach(card => {
                const category = card.getAttribute('data-category');
                const shouldShow = filter === 'all' || category === filter;
                
                if (shouldShow) {
                    card.style.display = 'block';
                    card.setAttribute('aria-hidden', 'false');
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                    card.setAttribute('aria-hidden', 'true');
                }
            });

            // Announce change to screen readers
            const announcement = `${visibleCount} m…ôhsul g√∂st…ôrilir`;
            if (window.dropAzUtils && window.dropAzUtils.showNotification) {
                window.dropAzUtils.showNotification(announcement, 'info');
            }
        });
    });

    // Enhanced product interactions with analytics
    document.addEventListener('click', function(e) {
        const target = e.target.closest('[data-product-id]');
        if (!target) return;
        
        const productId = parseInt(target.getAttribute('data-product-id'));
        const productName = target.closest('.product-card')?.querySelector('.product-name')?.textContent?.trim();
        
        // Track interactions for analytics
        const action = target.classList.contains('add-to-cart-btn') ? 'add_to_cart' :
                      target.classList.contains('favorite-btn') ? 'add_to_favorites' :
                      target.classList.contains('quick-view-btn') ? 'quick_view' :
                      target.classList.contains('share-btn') ? 'share_product' : null;
        
        if (action) {
            console.log(`Analytics: ${action} - Product: ${productName} (ID: ${productId})`);
        }
    });

    // Newsletter form enhancement
    const newsletterForm = document.querySelector('.newsletter-form');
    const newsletterInput = document.getElementById('newsletter-email');
    
    if (newsletterForm && newsletterInput) {
        // Real-time email validation
        newsletterInput.addEventListener('input', function() {
            const email = this.value.trim();
            const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
            
            this.setAttribute('aria-invalid', email && !isValid ? 'true' : 'false');
            
            if (email && !isValid) {
                this.setCustomValidity('D√ºzg√ºn e-mail formatƒ± daxil edin');
            } else {
                this.setCustomValidity('');
            }
        });
    }

    // Smooth scroll for hero buttons
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href === '#') return;
            
            e.preventDefault();
            const target = document.querySelector(href);
            
            if (target) {
                const headerHeight = document.querySelector('.floating-header')?.offsetHeight || 0;
                const targetPosition = target.offsetTop - headerHeight - 40;
                
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });

    console.log('‚úÖ Enhanced Hero Section ready');
});
</script>
{% endblock %}